% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_spi.R
\name{calculate_spi}
\alias{calculate_spi}
\title{Calculate Standardized Precipitation Index (SPI)}
\usage{
calculate_spi(
  nc_input,
  scale = 3,
  start_date = NULL,
  region = NULL,
  country = NULL,
  region_name = NULL,
  cores = 1,
  plot_result = TRUE,
  save_result = FALSE,
  output_dir = "Output_Maps",
  output_name = "SPI_Index"
)
}
\arguments{
\item{nc_input}{Character path to NetCDF file OR a SpatRaster object.}

\item{scale}{Integer. The time scale in months (e.g., 3 for SPI-3, 12 for SPI-12).}

\item{start_date}{Character/Date. Start date of the dataset (e.g., "1981-01-01").}

\item{region}{(Optional) Shapefile path or SpatVector.}

\item{country}{(Optional) Character. ISO3 code (e.g., "ETH").}

\item{region_name}{(Optional) Character. Admin region name (e.g., "Oromia").}

\item{cores}{Integer. Number of CPU cores for parallel processing. Default 1.}

\item{plot_result}{Logical. If TRUE, plots the final month of the calculated SPI.}

\item{save_result}{Logical. If TRUE, saves the output as a .tif file.}

\item{output_dir}{Character. Directory to save the file.}

\item{output_name}{Character. Prefix for the saved file name.}
}
\value{
A SpatRaster containing the monthly SPI values.
}
\description{
Calculates the SPI for a given timescale (e.g., 1-month, 3-month, 12-month)
using the SPEI package. Automatically converts daily input data to monthly totals.
}
\details{
SPI values are interpreted as:
\itemize{
\item \strong{> 2.0}: Extremely wet
\item \strong{1.5 to 1.99}: Very wet
\item \strong{-0.99 to 0.99}: Near normal
\item \strong{-1.0 to -1.49}: Moderately dry
\item \strong{-1.5 to -1.99}: Severely dry
\item \strong{< -2.0}: Extremely dry
}
}
